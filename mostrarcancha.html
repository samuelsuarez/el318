<!DOCTYPE html>
<html>
<head>
<script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-database.js"></script>
<script>
    var firebaseConfig = {
      apiKey: "AIzaSyCrkRUn_qZwk7AWOq-sgUuZg1RF903luJ8",
      authDomain: "upsa-el318.firebaseapp.com",
      databaseURL: "https://upsa-el318.firebaseio.com",
      projectId: "upsa-el318",
      storageBucket: "upsa-el318.appspot.com",
      messagingSenderId: "792902915279",
      appId: "1:792902915279:web:bb16bc470ef36bfda953ba"
    };
    firebase.initializeApp(firebaseConfig);
    var database = firebase.database();
</script>
<head>  
<body>


<img id="scream" src="cancha1.png" style="display:none"> 
<img id="rocaroja" src="rocar.png" style="display:none">
<img id="papelrojo" src="papelr.png" style="display:none">
<img id="tijeraroja" src="tijerar.png" style="display:none">
<img id="rocablue" src="rocab.png" style="display:none">
<img id="papelblue" src="papelb.png" style="display:none">
<img id="tijerablue" src="tijerab.png" style="display:none">
<img id="tijeraRdorada" src="tijerary.png" style="display:none">
<img id="tijeraBdorada" src="tijeraby.png" style="display:none">    
<img id="rocaRdorada" src="rocary.png" style="display:none">
<img id="rocaBdorada" src="rocaby.png" style="display:none">
<img id="papelRdorado" src="papelry.png" style="display:none">
<img id="papelBdorado" src="papelby.png" style="display:none">    
<img id="circulorojo" src="circulor.png" style="display:none">
<img id="circuloblue" src="circulob.png" style="display:none">
<img id="pelota" src="pelota.png" style="display:none">    
<img id="boton" src="boton.png" style="display:none">
<img id="marcador" src="marcador.png" style="display:none">
<p id="estadoclick"></p>




<canvas id="myCanvas" width="900" height="550" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.
</canvas>

   
  


<script>

//var estadoclick = document.getElementById("estadoclick");
var ctx;

   
/*var usuario = "Math.random()";
var canal = "juego";
  //var output = document.getElementById("output");
var mensaje;  
   
  document.getElementById("usuario").onchange = function(){
    usuario = document.getElementById("usuario").value;
  };    
   document.getElementById("canal").onchange = function(){ 
    canal = document.getElementById("canal").value;
    if (canal != ""){
      firebase.database().ref('canal/' + canal).on('child_added', function(data) {
        var message = "<b>" + data.val().usuario + "</b>: ";
        message += data.val().mensaje + "<br>";
      });
    };
   };
 
*/   
   
   
   
window.onload = function() {
      var canvas = document.getElementById("myCanvas");
      ctx = canvas.getContext("2d");
      var img = document.getElementById("scream");
      ctx.drawImage(img, 0, 0, 900, 550);
      var img = document.getElementById("rocaroja");
      ctx.drawImage(img, 782, 485, 50, 50);
      var img = document.getElementById("papelrojo");
      ctx.drawImage(img, 712, 485, 52, 52);
      var img = document.getElementById("tijeraroja");
      ctx.drawImage(img, 645, 485, 52, 52);
      var img = document.getElementById("rocablue");
      ctx.drawImage(img, 76, 485, 50, 50);
      var img = document.getElementById("papelblue");
      ctx.drawImage(img, 146, 485, 52, 52);
      var img = document.getElementById("tijerablue");
      ctx.drawImage(img, 211, 485, 52, 52);
      var img = document.getElementById("boton");
      ctx.drawImage(img, 0, 0, 50, 50);
      var img = document.getElementById("marcador");
      ctx.drawImage(img, 225, 10, 450, 40); 
      
      
};


   
function ganador (mia, suya, x){
   if (mia == "rocaR" && suya == "tijeraB"){
      x = 1;
   }:
   if (mia == "tijeraR" && suya == "papelB"){
      x= 1;
   };
   if (mia == "papelR" && suya == "rocaB"){
      x= 1;
   };
   if (mia == "papelR" && suya == "tijeraB"){
      x= 0;
   };
   if (mia == "tijeraR" && suya == "rocaB"){
      x= 0;
   };
   if (mia == "rocaR" && suya == "papelB"){
      x= 0;
   };else{
      x= 0;
   };
   
};
   
/*function pintar (px,py){
      var img = document.getElementById("scream");
      ctx.drawImage(img, 0, 0, 900, 550);
      var img = document.getElementById("rocaroja");
      ctx.drawImage(img, 782, 485, 50, 50);
      var img = document.getElementById("papelrojo");
      ctx.drawImage(img, 712, 485, 52, 52);
      var img = document.getElementById("tijeraroja");
      ctx.drawImage(img, 645, 485, 52, 52);
      var img = document.getElementById("rocablue");
      ctx.drawImage(img, 76, 485, 50, 50);
      var img = document.getElementById("papelblue");
      ctx.drawImage(img, 146, 485, 52, 52);
      var img = document.getElementById("tijerablue");
      ctx.drawImage(img, 211, 485, 52, 52);
      var img = document.getElementById("boton");
      ctx.drawImage(img, 0, 0, 50, 50);
      var img = document.getElementById("marcador");
      ctx.drawImage(img, 225, 10, 450, 40);
      var img = document.getElementById("pelota");
      ctx.drawImage(img, px, py, 450, 40);
};*/

/*function moverAd (px, py){
    var vx = 5;
    var vy;
    var py1;
    var py2;
    py2 = Math.floor(Math.random() * 551);
    while (px >= px - 225){
        if(py > py2){
            py1 = py - py2;
            vy = (py1*100)/4500;
            if (if(py > py2){
                px = px - vx;
                py = py - vy;  
            }; else{
                px = px - vx;
                py = py + vy;  
            };
        }; else{
            py1 = py2 - py; 
            vy = (py1*100)/4500;
            if (if(py > py2){
                px = px - vx;
                py = py - vy;  
            }; else{
                px = px - vx;
                py = py + vy;  
            };
        };
    };
};*/
    
function pintarmijugada (mieleccion){
  if (mieleccion == "tijeraR"){
     var img = document.getElementById("tijeraRdorada");
     ctx.drawImage(img, 600, 200, 150, 150);
  };
  if (mieleccion == "rocaR"){
     var img = document.getElementById("rocaRdorada");
     ctx.drawImage(img, 600, 200, 150, 150);
  };
  if (mieleccion == "papelR"){
     var img = document.getElementById("papelRdorado");
     ctx.drawImage(img, 600, 200, 150, 150);   
  };
};

function pintarsujugada (sueleccion){
  if (sueleccion == "tijeraB"){
     var img = document.getElementById("tijeraBdorada");
     ctx.drawImage(img, 150, 200, 150, 150); 
  };
  if (sueleccion == "rocaB"){
     var img = document.getElementById("rocaBdorada");
     ctx.drawImage(img, 150, 200, 150, 150);
  };
  if (sueleccion == "papelB"){
     var img = document.getElementById("papelBdorado");
     ctx.drawImage(img, 150, 200, 150, 150);   
  };
};    
   
 function jugar (mia, suya){
    var x;
    ganador (mia, suya, x);
    if (x = 1){
        var img = document.getElementById("pelota");
        ctx.drawImage(img, 410, 235, 150, 150);
            
        /*setInterval (function(){
                moverAd (px, py);
                pintar (px,py);
            },100);*/
    };
 };
 
myCanvas.onmousedown = function(e) {
  var x = e.clientX;
  var y = e.clientY;  
  var mijugada;
  var sujugada;
  //var px = 410;
  //var py = 235;  
  //var mia = false;
  //var suya = false;
      if (x >= 645 && x <= 697 && y >= 485 && y <= 537){
          mijugada = "tijeraR";
          //mia = true;
      };
      
      if (x >= 712 && x <= 764 && y >= 485 && y <= 537){
          mijugada = "papelR";
          //mia = true;
      };
      
      if (x >= 782 && x <= 832 && y >= 485 && y <= 537){
          mijugada = "rocaR";
          //mia = true;
      };
      
      if (x >= 76 && x <= 126 && y >= 485 && y <= 537){
          sujugada = "rocaB";
          //suya = true;
      };
      if (x >= 146 && x <= 198 && y >= 485 && y <= 537){
          sujugada = "papelB";
          //suya = true;
      };
      
      if (x >= 211 && x <= 263 && y >= 485 && y <= 537){
          sujugada = "tijeraB";
          //suya = true;
      };    
  if ( x >= 0 && x <= 60 && y >= 0 && y <= 70){
      var img = document.getElementById("scream");
      ctx.drawImage(img, 0, 0, 900, 550);
      var img = document.getElementById("rocaroja");
      ctx.drawImage(img, 782, 485, 50, 50);
      var img = document.getElementById("papelrojo");
      ctx.drawImage(img, 712, 485, 52, 52);
      var img = document.getElementById("tijeraroja");
      ctx.drawImage(img, 645, 485, 52, 52);
      var img = document.getElementById("rocablue");
      ctx.drawImage(img, 76, 485, 50, 50);
      var img = document.getElementById("papelblue");
      ctx.drawImage(img, 146, 485, 52, 52);
      var img = document.getElementById("tijerablue");
      ctx.drawImage(img, 211, 485, 52, 52);
      var img = document.getElementById("boton");
      ctx.drawImage(img, 0, 0, 50, 50);
      var img = document.getElementById("marcador");
      ctx.drawImage(img, 225, 10, 450, 40);
      };
      
   //if (mia == true && suya == true){
     pintarmijugada (mijugada);
     pintarsujugada (sujugada);
     jugar (mijugada, sujugada); 
   //};
 
}; 

</script>
    


</body>
</html>
